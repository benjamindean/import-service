$(function(e){function s(s){var r=e(".error-box");e(".sucess-box").hide(),e(".error-message").remove(),r.show();for(var n in s)r.append('<p class="error-message">'+s[n]+"</p>")}function r(){e(".error-box").hide(),e(".success-box").show()}function n(s){var r=e("#submit-button"),n=e(".spinner");"pending"===s?(r.attr("disabled",!0).addClass("button-disabled"),n.prev().hide(),n.show()):(r.attr("disabled",!1).removeClass("button-disabled"),n.prev().show(),n.hide())}var o=e(".file-input-name");e(".file-input").on("change",function(s){var r=e(this).val().split("\\").pop()||!1;r?(o.html(r),o.show()):o.hide()}),e("#form-submit").submit(function(){var o=new FormData(e(this)[0]);return n("pending"),e.ajax({url:"api/upload",type:"POST",data:o,async:!0,success:function(e){e.success&&(n("done"),r())},error:function(e){n("failed"),s(e.responseJSON.errors[0])},cache:!1,contentType:!1,processData:!1}),!1})})(jQuery);